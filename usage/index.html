
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="CRDTs based on Yrs">
      
      
      
      
        <link rel="prev" href="../install/">
      
      
        <link rel="next" href="../api_reference/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Usage - pycrdt</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quickstart" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pycrdt" class="md-header__button md-logo" aria-label="pycrdt" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pycrdt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jupyter-server/pycrdt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pycrdt" class="md-nav__button md-logo" aria-label="pycrdt" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    pycrdt
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jupyter-server/pycrdt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    <span class="md-ellipsis">
      Quickstart
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Transactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#non-blocking-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Non-blocking transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blocking-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Blocking transactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Blocking transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multithreading" class="md-nav__link">
    <span class="md-ellipsis">
      Multithreading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asynchronous-programming" class="md-nav__link">
    <span class="md-ellipsis">
      Asynchronous programming
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">
      Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shared-data-events" class="md-nav__link">
    <span class="md-ellipsis">
      Shared data events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-events" class="md-nav__link">
    <span class="md-ellipsis">
      Document events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#undo-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Undo manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Type annotations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API reference
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    <span class="md-ellipsis">
      Quickstart
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Transactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#non-blocking-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Non-blocking transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blocking-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Blocking transactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Blocking transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multithreading" class="md-nav__link">
    <span class="md-ellipsis">
      Multithreading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asynchronous-programming" class="md-nav__link">
    <span class="md-ellipsis">
      Asynchronous programming
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">
      Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shared-data-events" class="md-nav__link">
    <span class="md-ellipsis">
      Shared data events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-events" class="md-nav__link">
    <span class="md-ellipsis">
      Document events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#undo-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Undo manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Type annotations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Usage</h1>

<h2 id="quickstart">Quickstart</h2>
<p>Pycrdt offers the following shared data types:</p>
<ul>
<li><code>Text</code>: a type similar to a <code>str</code>.</li>
<li><code>Array</code>: a type similar to a <code>list</code>.</li>
<li><code>Map</code>: a type similar to a <code>dict</code>.</li>
<li><code>XmlFragment</code>: a collection of XML nodes.</li>
<li><code>XmlElement</code>: an XML node.</li>
<li><code>XmlText</code>: an XML text node.</li>
</ul>
<p>For the XML shared types, see the <a href="../api_reference/">API reference</a>.
The rest of this section will only refer to <code>Text</code>, <code>Array</code> and <code>Map</code> shared types.</p>
<p>You can initialize them with their Python built-in counterparts:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Array</span><span class="p">,</span> <span class="n">Map</span>

<span class="n">text0</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="n">array0</span> <span class="o">=</span> <span class="n">Array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">])</span>
<span class="n">map0</span> <span class="o">=</span> <span class="n">Map</span><span class="p">({</span><span class="s2">&quot;key0&quot;</span><span class="p">:</span> <span class="s2">&quot;value0&quot;</span><span class="p">})</span>
</code></pre></div>
<p>But they are pretty useless on their own. They are just placeholders waiting to be inserted in a shared document. Only then do they really become useful:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Doc</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>
<span class="n">doc</span><span class="p">[</span><span class="s2">&quot;text0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">text0</span>
<span class="n">doc</span><span class="p">[</span><span class="s2">&quot;array0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">array0</span>
<span class="n">doc</span><span class="p">[</span><span class="s2">&quot;map0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map0</span>
</code></pre></div>
<p>Now you can operate on them as you would expect, for instance:</p>
<div class="highlight"><pre><span></span><code><span class="n">text0</span> <span class="o">+=</span> <span class="s2">&quot;, World!&quot;</span>
<span class="n">array0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value1&quot;</span>
</code></pre></div>
<p>Note that an <code>Array</code> and a <code>Map</code> can hold other shared data types:</p>
<div class="highlight"><pre><span></span><code><span class="n">map1</span> <span class="o">=</span> <span class="n">Map</span><span class="p">({</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="n">array1</span> <span class="o">=</span> <span class="n">Array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>

<span class="n">array0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">map1</span><span class="p">)</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;key2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">array1</span>
</code></pre></div>
<p>Every change to <code>doc</code> (a modified/added/deleted value) will generate an update in the form of a binary encoded data.
You can listen to these updates and send them on the wire, so that they can be applied to a remote document.</p>
<p>You can also listen to changes on the individual shared data types (<code>text0</code>, <code>array1</code>, etc.) by registering callbacks,
that will be called with the change event(s), so that your application can react to data changes.</p>
<p>We say that <code>text0</code>, <code>array0</code> and <code>map0</code> are root types of <code>doc</code>.
When they got inserted into <code>doc</code>, we gave them a name. For instance, <code>text0</code> was inserted under <code>"text0"</code>.
This is how a remote document will retrieve the root types of the document, after applying the received updates:</p>
<div class="highlight"><pre><span></span><code><span class="n">update</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">get_update</span><span class="p">()</span>

<span class="c1"># the (binary) update could travel on the wire to a remote machine:</span>

<span class="n">remote_doc</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>
<span class="n">remote_doc</span><span class="o">.</span><span class="n">apply_update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>

<span class="n">remote_doc</span><span class="p">[</span><span class="s2">&quot;text0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">text0</span> <span class="o">=</span> <span class="n">Text</span><span class="p">()</span>
<span class="n">remote_doc</span><span class="p">[</span><span class="s2">&quot;array0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">array0</span> <span class="o">=</span> <span class="n">Array</span><span class="p">()</span>
<span class="n">remote_doc</span><span class="p">[</span><span class="s2">&quot;map0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map0</span> <span class="o">=</span> <span class="n">Map</span><span class="p">()</span>
</code></pre></div>
<p>You could say that there is nothing fancy here, it's just about encoding data changes so that they can be applied on another object.
But this is where the magic of CRDTs comes into play.
Their algorithm ensures that if some changes are done concurrently on different objects representing the same data (for instance on different machines), applying the changes will lead to the same data on all objects. Without such algorithms, this property doesn't hold due to the fact that changes depend on the order in which they are applied, and that they take time to travel on the wire.</p>
<p>The most common example is inserting a different character on a text editor on two machines.
Say we start with a blank page on both editors, and the user on machine A inserts "a" at the same time the user on machine B inserts "b".
After receiving the other user's update, if no special care is taken, machine A will show "ba" and machine B will show "ab".
In other words, their document states will diverge, and thus users won't collaborate on the same document anymore.
CRDTs ensure that documents don't diverge, their shared documents will eventually have the same state. It will arbitrary be "ab" or "ba", but it will be the same on both machines.</p>
<h2 id="transactions">Transactions</h2>
<p>Every change to a shared data happens in a document transaction, and there can only be one transaction at a time. Pycrdt offers two methods for creating transactions:</p>
<ul>
<li><code>doc.transaction()</code>: used with a context manager, this will create a new transaction if there is no current one, or use the current transaction. This method will never block, and should be used most of the time.</li>
<li><code>doc.new_transaction()</code>: used with a context manager or an async context manager, this will always try to create a new transaction. This method can block, waiting for a transaction to be released.</li>
</ul>
<h3 id="non-blocking-transactions">Non-blocking transactions</h3>
<p>When no current transaction exists, an implicit transaction is created.
Grouping multiple changes in a single transaction makes them atomic: they will appear as done simultaneously rather than sequentially.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">doc</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
    <span class="n">text0</span> <span class="o">+=</span> <span class="s2">&quot;, World!&quot;</span>
    <span class="n">array0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
    <span class="n">map0</span><span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value1&quot;</span>
</code></pre></div>
<p>Transactions can be nested: when a transaction is created inside another one, changes will be made in the outer transaction.
In the following example, all changes are made in transaction <code>t0</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">doc</span><span class="o">.</span><span class="n">transaction</span><span class="p">()</span> <span class="k">as</span> <span class="n">t0</span><span class="p">:</span>
    <span class="n">text0</span> <span class="o">+=</span> <span class="s2">&quot;, World!&quot;</span>
    <span class="k">with</span> <span class="n">doc</span><span class="o">.</span><span class="n">transaction</span><span class="p">()</span> <span class="k">as</span> <span class="n">t1</span><span class="p">:</span>
        <span class="n">array0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">doc</span><span class="o">.</span><span class="n">transaction</span><span class="p">()</span> <span class="k">as</span> <span class="n">t2</span><span class="p">:</span>
            <span class="n">map0</span><span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value1&quot;</span>
</code></pre></div>
<h3 id="blocking-transactions">Blocking transactions</h3>
<h4 id="multithreading">Multithreading</h4>
<p>When used with a (non-async) context manager, the <code>new_transaction()</code> method will block the current thread waiting to acquire a transaction, with an optional timeout:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span>
<span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Doc</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">(</span><span class="n">allow_multithreading</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">create_new_transaction</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">doc</span><span class="o">.</span><span class="n">new_transaction</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="o">...</span>

<span class="n">t0</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">create_new_transaction</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">create_new_transaction</span><span class="p">)</span>
<span class="n">t0</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">t1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">t0</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">t1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</code></pre></div>
<h4 id="asynchronous-programming">Asynchronous programming</h4>
<p>When used with an async context manager, the <code>new_transaction()</code> method will yield to the event loop until a transaction is acquired:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">anyio</span> <span class="kn">import</span> <span class="n">create_task_group</span><span class="p">,</span> <span class="n">run</span>
<span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Doc</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">create_new_transaction</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">doc</span><span class="o">.</span><span class="n">new_transaction</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="o">...</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">create_task_group</span><span class="p">()</span> <span class="k">as</span> <span class="n">tg</span><span class="p">:</span>
        <span class="n">tg</span><span class="o">.</span><span class="n">start_soon</span><span class="p">(</span><span class="n">create_new_transaction</span><span class="p">)</span>
        <span class="n">tg</span><span class="o">.</span><span class="n">start_soon</span><span class="p">(</span><span class="n">create_new_transaction</span><span class="p">)</span>

<span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
</code></pre></div>
<h2 id="events">Events</h2>
<h3 id="shared-data-events">Shared data events</h3>
<p>Changes to shared data can be observed in order to react on them. For instance, if a character is inserted in a <code>Text</code> data,
a text editor should insert the character in the text shown to the user. This is done by registering callbacks.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">TextEvent</span>

<span class="k">def</span> <span class="nf">handle_changes</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">TextEvent</span><span class="p">):</span>
    <span class="c1"># process the event</span>
    <span class="o">...</span>

<span class="n">text0_subscription_id</span> <span class="o">=</span> <span class="n">text0</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">handle_changes</span><span class="p">)</span>
</code></pre></div>
<p>The subscription ID can be used to unregister the callback later.</p>
<div class="highlight"><pre><span></span><code><span class="n">text0</span><span class="o">.</span><span class="n">unobserve</span><span class="p">(</span><span class="n">text0_subscription_id</span><span class="p">)</span>
</code></pre></div>
<p>For container data types like <code>Array</code> and <code>Map</code>, it can be useful to observe changes that are deeply nested in the hierarchy.
For instance, you may want to observe all changes that happen in <code>array0</code>, including changes in <code>map1</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">array0</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;foo&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bar&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">map1</span><span class="p">:</span>
<span class="w">    </span><span class="s">&quot;baz&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>Using the <code>observe</code> method will only notify for changes happening at the top-level of the container, for instance when the value
at index 2 is deleted, but not for changes happening in <code>map1</code>. Use the <code>observe_deep</code> method instead, with a callback that accepts
a list of events.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">ArrayEvent</span>

<span class="k">def</span> <span class="nf">handle_deep_changes</span><span class="p">(</span><span class="n">events</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ArrayEvent</span><span class="p">]):</span>
    <span class="c1"># process the events</span>
    <span class="o">...</span>

<span class="n">array0_subscription_id</span> <span class="o">=</span> <span class="n">array0</span><span class="o">.</span><span class="n">observe_deep</span><span class="p">(</span><span class="n">handle_deep_changes</span><span class="p">)</span>
</code></pre></div>
<p>Unregistering the callback is done with the same <code>unobserve</code> method.</p>
<h3 id="document-events">Document events</h3>
<p>Observing changes made to a document is mostly meant to send the changes to another document, usually over the wire to a remote machine.
Changes can be serialized to binary by getting the event's <code>update</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">TransactionEvent</span>

<span class="k">def</span> <span class="nf">handle_doc_changes</span><span class="p">(</span><span class="n">event</span><span class="p">:</span> <span class="n">TransactionEvent</span><span class="p">):</span>
    <span class="n">update</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">update</span>
    <span class="c1"># send binary update on the wire</span>

<span class="n">doc</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">handle_doc_changes</span><span class="p">)</span>
</code></pre></div>
<p>Changes can be applied to a remote document at the other end of the wire:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># receive binary update from e.g. a WebSocket</span>
<span class="n">update</span><span class="p">:</span> <span class="nb">bytes</span>

<span class="n">remote_doc</span><span class="o">.</span><span class="n">apply_update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
</code></pre></div>
<h2 id="undo-manager">Undo manager</h2>
<p>An undo manager allows to undo/redo changes to a set of shared types belonging to a document:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">UndoManager</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">Text</span><span class="p">)</span>
<span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;Hello&quot;</span>

<span class="n">undo_manager</span> <span class="o">=</span> <span class="n">UndoManager</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="n">doc</span><span class="p">)</span>
<span class="n">undo_manager</span><span class="o">.</span><span class="n">expand_scope</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;, World!&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="c1"># prints: &quot;Hello, World!&quot;</span>

<span class="n">undo_manager</span><span class="o">.</span><span class="n">undo</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="c1"># prints: &quot;Hello&quot;</span>

<span class="n">undo_manager</span><span class="o">.</span><span class="n">redo</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="c1"># prints: &quot;Hello, World!&quot;</span>
</code></pre></div>
<p>Undoing a change doesn't remove the change from the document's history, but applies a change that is the opposite of the previous change.</p>
<h2 id="type-annotations">Type annotations</h2>
<p><code>Array</code>, <code>Map</code> and <code>Doc</code> can be type-annotated for static type analysis. For instance, here is how to declare a <code>Doc</code> where all root types are <code>Array</code>s of <code>int</code>s:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Array</span><span class="p">,</span> <span class="n">Doc</span>

<span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">[</span><span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>
<span class="n">array0</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;array0&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">Array</span><span class="p">)</span>
<span class="n">array0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">array0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>  <span class="c1"># error: Argument 1 to &quot;append&quot; of &quot;Array&quot; has incompatible type &quot;str&quot;; expected &quot;int&quot;  [arg-type]</span>
<span class="n">array1</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;array1&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">Array</span><span class="p">)</span>  <span class="c1"># error: Incompatible types in assignment (expression has type &quot;Array[int]&quot;, variable has type &quot;Array[str]&quot;)  [assignment]</span>
</code></pre></div>
<p>Trying to append a <code>str</code> will result in a type check error. Likewise if trying to get a root type of <code>Array[str]</code>.</p>
<p>Like an <code>Array</code>, a <code>Map</code> can be declared as uniform, i.e. with values of the same type. But it can also be declared as a <a href="https://mypy.readthedocs.io/en/stable/typed_dict.html">TypedDict</a>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypedDict</span>
<span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">Map</span>

<span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">[</span><span class="n">Map</span><span class="p">]</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>

<span class="n">MyMap</span> <span class="o">=</span> <span class="n">TypedDict</span><span class="p">(</span>
    <span class="s2">&quot;MyMap&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;toggle&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="s2">&quot;nested&quot;</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="n">map0</span><span class="p">:</span> <span class="n">MyMap</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;map0&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">Map</span><span class="p">)</span>  <span class="c1"># type: ignore[assignment]</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;toggle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;toggle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># error: Value of &quot;toggle&quot; has incompatible type &quot;int&quot;; expected &quot;bool&quot;</span>
<span class="n">array0</span> <span class="o">=</span> <span class="n">Array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;nested&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">array0</span>  <span class="c1"># error: Value of &quot;nested&quot; has incompatible type &quot;Array[int]&quot;; expected &quot;Array[bool]&quot;</span>
<span class="n">array1</span> <span class="o">=</span> <span class="n">Array</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;nested&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">array1</span>
<span class="n">v0</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">map0</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="n">v1</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">map0</span><span class="p">[</span><span class="s2">&quot;toggle&quot;</span><span class="p">]</span>  <span class="c1"># error: Incompatible types in assignment (expression has type &quot;bool&quot;, variable has type &quot;str&quot;)</span>
<span class="n">v2</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">map0</span><span class="p">[</span><span class="s2">&quot;toggle&quot;</span><span class="p">]</span>
<span class="n">map0</span><span class="p">[</span><span class="s2">&quot;key0&quot;</span><span class="p">]</span>  <span class="c1"># error: TypedDict &quot;MyMap@7&quot; has no key &quot;key0&quot;</span>
</code></pre></div>
<p>Like a <code>Map</code>, a <code>Doc</code> can be declared as consisting of uniform root types, or as a <code>TypedDict</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypedDict</span>
<span class="kn">from</span> <span class="nn">pycrdt</span> <span class="kn">import</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">Array</span><span class="p">,</span> <span class="n">Text</span>

<span class="n">MyDoc</span> <span class="o">=</span> <span class="n">TypedDict</span><span class="p">(</span>
    <span class="s2">&quot;MyDoc&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;text0&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
        <span class="s2">&quot;array0&quot;</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">doc</span><span class="p">:</span> <span class="n">MyDoc</span> <span class="o">=</span> <span class="n">Doc</span><span class="p">()</span>  <span class="c1"># type: ignore[assignment]</span>
<span class="n">doc</span><span class="p">[</span><span class="s2">&quot;text0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Text</span><span class="p">()</span>
<span class="n">doc</span><span class="p">[</span><span class="s2">&quot;array0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">bool</span><span class="p">]()</span>  <span class="c1"># error: Value of &quot;array0&quot; has incompatible type &quot;Array[bool]&quot;; expected &quot;Array[int]&quot;</span>
<span class="n">doc</span><span class="p">[</span><span class="s2">&quot;array0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">]()</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.top", "navigation.sections", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>